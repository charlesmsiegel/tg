<div class="row centertext">
    <div class="col-sm-3"></div>
    <div class="col-sm-3 border">Allies, Arcane, Backup, Cult, Elders, Integrated Effects, Library, Retainers, Spies</div>
    <div class="col-sm-3 border">2</div>
    <div class="col-sm-3"></div>
</div>
<div class="row centertext">
    <div class="col-sm-3"></div>
    <div class="col-sm-3 border">Node, Resources</div>
    <div class="col-sm-3 border">3</div>
    <div class="col-sm-3"></div>
</div>
<div class="row centertext">
    <div class="col-sm-3"></div>
    <div class="col-sm-3 border">Enhancement, Requisitions</div>
    <div class="col-sm-3 border">4</div>
    <div class="col-sm-3"></div>
</div>
<div class="row centertext">
    <div class="col-sm-3"></div>
    <div class="col-sm-3 border">Sanctum</div>
    <div class="col-sm-3 border">5</div>
    <div class="col-sm-3"></div>
</div>
<div class="row">
    <div class="col-sm">{{ form.category }}</div>
    <div class="col-sm d-none" id="example_wrap">{{ form.example }}</div>
    <div class="col-sm d-none" id="note_wrap">{{ form.note }}</div>
    <div class="col-sm d-none" id="alt_name_wrap">Alternate Name? {{ form.display_alt_name }}</div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const categorySelectMenu = document.getElementById("id_category");
        const exampleElement = document.getElementById("example_wrap");
        const noteElement = document.getElementById("note_wrap");
        const altNameElement = document.getElementById("alt_name_wrap");

        function updateVisibility() {
            const value = categorySelectMenu.value;

            // Reset all to hidden
            exampleElement.classList.add("d-none");
            noteElement.classList.add("d-none");
            altNameElement.classList.add("d-none");

            // Show fields based on category
            if (!["-----", "Integrated Effects"].includes(value)) {
                exampleElement.classList.remove("d-none");
            }

            if (value === "New Background") {
                noteElement.classList.remove("d-none");
                altNameElement.classList.remove("d-none");
            }
        }

        categorySelectMenu.addEventListener("change", updateVisibility);

        // Initial visibility on page load
        updateVisibility();
    });
</script>
