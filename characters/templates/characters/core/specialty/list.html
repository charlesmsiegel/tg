{% extends "core/base.html" %}
{% block title %}
    Specialties
{% endblock title %}
{% block content %}
    {% load field %}
    <div class="container">
        <div class="tg-card header-card mb-4">
            <div class="tg-card-header">
                <h1 class="tg-card-title">Specialties</h1>
            </div>
        </div>

        <!-- Filter Controls -->
        <div class="tg-card mb-4">
            <div class="tg-card-body">
                <h6 class="mb-3">Filter Specialties</h6>
                <form method="get" class="row g-3">
                    <div class="col-md-4">
                        <label for="stat_type" class="form-label" style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--theme-text-secondary);">Statistic Type</label>
                        <select name="stat_type" id="stat_type" class="form-select">
                            <option value="">All Types</option>
                            {% for value, label in stat_types %}
                                <option value="{{ value }}" {% if current_stat_type == value %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="stat" class="form-label" style="font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--theme-text-secondary);">Specific Statistic</label>
                        <select name="stat" id="stat" class="form-select">
                            <option value="">All Statistics</option>
                            {% for value, label in stat_choices %}
                                <option value="{{ value }}" {% if current_stat == value %}selected{% endif %}>{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-4 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary me-2">Apply Filters</button>
                        <a href="{% url 'characters:list:specialty' %}" class="btn btn-secondary">Clear</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Results Count -->
        {% if current_stat_type or current_stat %}
            <div class="mb-3">
                <div style="display: inline-block; padding: 10px 24px; border-radius: 6px; background-color: rgba(0,0,0,0.05);">
                    <span style="font-weight: 600; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; color: var(--theme-text-secondary); margin-right: 8px;">Results:</span>
                    <span style="font-weight: 700; color: var(--theme-text-primary);">{{ object_list|length }} specialties found</span>
                </div>
            </div>
        {% endif %}

        <!-- Specialties List -->
        <div class="tg-card">
            <div class="tg-card-body">
                {% if object_list %}
                    <div class="tg-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Specialty Name</th>
                                    <th>Statistic</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for obj in object_list %}
                                    <tr>
                                        <td>
                                            <a href="{{ obj.get_absolute_url }}">{{ obj.name }}</a>
                                        </td>
                                        <td>
                                            <span class="tg-badge badge-pill">{{ obj.stat }}</span>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% else %}
                    <p class="text-muted mb-0">No specialties found matching the selected filters.</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock content %}
